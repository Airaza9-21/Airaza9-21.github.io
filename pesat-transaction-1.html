<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;600&display=swap" rel="stylesheet">
		<style>
			:root {
				--header-height: 48pt;
				--carrousel-graphics-size: 200px;
				--carrousel-font-size: 24pt;
				--throw-animation-duration: 1.2s;
				--header-font-size: 11pt;
			}

			.setor-info {
				width: 40%;
				display: flex;
				align-items: center;
			}
			.setor-info .stars{
				height: 12pt;
			}
			.setor-info h2 {
				font-size: 10pt;
			}
			.setor-info p {
				font-size: 8pt;
				text-align: left;
			}

			@media screen and (min-width: 768px){ 
				:root{
					--header-height: 48pt;
					--carrousel-graphics-size: 360px;
					--carrousel-font-size: 36pt;
					--header-font-size: initial;
					--font-size: initial;
				}
				.setor-info {
					width: 30%;
				}
				.setor-info .stars {
					height: 18pt;
				}
				.setor-info h2 {
					font-size: 18pt;
				}
				.setor-info p {
					font-size: initial;
					text-align: justify;
				}
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				color: white;
			}
			html, body {
				height: 100%;
				overflow: hidden;
				font-family: 'Montserrat';
			}

			.row {
				display: flex;
			}

			.container {
				width: 100%; height: 100%;
				background: linear-gradient(90deg,#a2bf0f,rgb(208,211,20));
				position: relative;
			}
			.container .header {
				width: 100%;
				height: var(--header-height);
				padding: 16pt 16pt 0 16pt;
				display: flex;
			}
			.header .header-content {
				height: 100%;
				width: 50%;
				display: flex;
			}
			.header .header-text {
				font-size: var(--header-font-size);
			}

			.user-settings .header-text {
				height: 100%;
				padding: 0 12pt;
			}

			.content {
				height: calc(100% - var(--header-height));
				position: relative;
			}

			.content .setor-type {
				width: 100%;
				height: 60%;
				position: absolute;
				top: 15%;
			}

			.content .setor-type .div {
				/*border: solid 1px red;*/
				height: 100%;
			}

			.carrousel-arrow {
				flex-grow: 1;
				position: relative;
				z-index: 20;
			}
			.carrousel-arrow .arrow {
				width: 30%; height: 15%;
				transform: translate(-50%,-50%); 
				position: absolute;
			}
			.carrousel-graphics {
				cursor: pointer;
				background: rgba(255,255,255,0);
				transition: background-color 0.25s;
				-webkit-tap-highlight-color: transparent;
			}
			.carrousel-arrow .carrousel-graphics:hover {
				background: rgba(255,255,255,0.05)
			}
			.carrousel-arrow .carrousel-graphics:active {
				background: rgba(255,255,255,0.15);
			}

			.carrousel-container {
				flex-grow: 2;
			}

			.content .setor-action {
				height: 40%;
				position: absolute;
				top: 60%;
				padding: 0 15%;
				justify-content: space-between;
			}

			.small-icon {
				width: 20pt; height: 20pt;
				margin: 0 6pt;
				border-radius: 2pt;
				border: solid 1px white;
			}

			.carrousel-graphics {
				position: absolute;
				width: var(--carrousel-graphics-size); height: var(--carrousel-graphics-size);
				border-radius: 50%;
				transform: translate(-50%,-50%);
				top: 50%; left: 50%;
				animation: var(--throw-animation-duration) linear;
			}

			.carrousel-container .carrousel-items .carrousel-graphics {
				box-shadow: 0 0 12pt rgba(0 0 0 / 10%);
				background: rgb(209,207,36);
			}

			.carrousel-text {
				width: fit-content; height: fit-content;
				position: absolute;
				transform: translate(-50%,-50%);
				top: 50%; left: 50%;
				font-size: var(--carrousel-font-size); font-weight: 600;
				text-align: center;
				animation: var(--throw-animation-duration) linear;
			}

			.carrousel-items  {
				z-index: 10;
				transition: all;
			}
			.carrousel-items .carrousel-graphics, .carrousel-items .carrousel-text {
				cursor: pointer;
			}

			@keyframes textSize {
				0% {font-size: var(--carrousel-font-size);}
				30% {font-size: 8pt;}
				100% {font-size: 8pt;}
			}

			.pop-up {
				width: 400pt;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="header">
				<div class="hamburger header-content row" style="justify-content: flex-start;">
					<svg style="height: 100%; width: var(--header-height); stroke: white; stroke-width: 18; stroke-linecap: round;" viewBox="0 0 128 128">
						<path d="M 16 32 h96" />
						<path d="M 16 64 h80" />
						<path d="M 16 96 h64" />
					</svg>
					<div class="header-text row" style="width: 360px; text-align: center; font-weight: 100; align-items: center;">
						<!--<div style="height: fit-content;">Bersama menjaga lingkungan yang bersih</div>-->
					</div>
				</div>
				<div class="user-settings header-content row" style="justify-content: flex-end;">
					<div class="lang header-text row" style="align-items: center;">
						<div style="height: min-content;">EN</div><div class="small-icon"></div>
					</div>
					<div class="profile header-text row" style="align-items: center;">
						<div style="height: min-content;">Profile</div><div class="small-icon"></div>
					</div>
				</div>
			</div>
			<div class="content">
				<div class="setor-type row">
					<div class="carrousel-arrow">
						<div class="carrousel-graphics" style="border: solid 1pt white; top: 50%; left: 0;" onclick="carrousel.swap(1)">
							<div class="arrow" style="top: 50%; left: 70%;">
								<svg viewBox="0 0 96 64" style="width: 100%; height: 100%; stroke: white; fill: none">
									<path d="M 32 8 l -24 24 l 24 24 M 12 32 h76" />
								</svg>
							</div>
						</div>
					</div>
					<div id="main-carrousel" class="carrousel-container" style="position: relative;"></div>
					<div class="carrousel-arrow">
						<div class="carrousel-graphics" style="border: solid 1pt white; top: 50%; left: 100%;" onclick="carrousel.swap(-1)">
							<div class="arrow" style="top: 50%; left: 30%;">
								<svg viewBox="0 0 96 64" style="width: 100%; height: 100%; stroke: white; fill: none">
									<path d="M 64 8 l 24 24 l -24 24 M 84 32 h-76" />
								</svg>
							</div>
						</div>
					</div>
				</div>
				<div class="setor-action row">
					<div class="setor-info" style="display: flex; align-items: center;">
						<div>
							<h2>Rp 5.000</h2>
							<div class="stars">
								<svg style="height: 100%; fill: black;" viewBox="0 0 640 128">
									<path d="M 64 16 l 45.65 33.16 l -17.43 53.66 h-56.42 l-17.43 -53.66 z" />
									<path d="M 192 16 l 28.21 86.83 l -73.86 -53.66 h91.3 l-73.86 53.66 z" />
									<path d="M 320 20 l 40 80 h-80 z" />
									<path d="M 448 16 l41.56 24 v48 l-41.56 24 l-41.56 -24 v-48 z" />
									<path d="M 576 16 l41.56 72 h-83.12 z M 576 112 l41.56 -72 h-83.12 z" />
								</svg>
							</div>
							<p style="font-weight: 100;">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
						</div>
					</div>
					<div class="setor-button" style="display: flex; align-items: center; padding: 12pt">
						<button style="background: none; font-size: 16pt; padding: 8pt 12pt; border: none; border-bottom: solid 1pt white;"><b>SETOR</b></button>
					</div>
				</div>
			</div>
			<div class="pop-up">
				<div></div>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		let c,d;
		let carrousel = {
			doc: document.getElementById("main-carrousel"),
			textData: ["PET","HDPE","PVC","LDPE","PP","PS","OTHER"],
			pos: 50,
			init: function(){
				this.tagIndex = Array(this.textData.length); this.tagIndex.fill(0)
				this.tagIndex.forEach(function(e1,i1,arr1){arr1[i1] = (i1+Math.ceil(arr1.length/2))%arr1.length})
				this.placeTag();
				this.posTag();
			},
			placeTag: function(){
				for (c=0;c<this.textData.length;c++){
					htmlTag = '<div class="carrousel-items" style="position: absolute; width: 100%; height: 100%; top: 0;"><div class="carrousel-graphics" onclick="carrousel.throw('+c+',this)" onanimationend="carrousel.hide('+c+',this)"><div class="carrousel-text"><h1>'+this.textData[c]+'</h1></div></div></div>'
					this.doc.innerHTML += htmlTag
				}
			},
			posTag: function(isNotFirst){
				for (c=0;c<this.tagIndex.length && this.tagIndex[0];c++){
					ind = (c-Math.floor(this.tagIndex.length/2))
					if (ind){
						if (Math.abs(ind)==1 && isNotFirst){
							this.doc.children[this.tagIndex[c]].style.transitionDuration = "0.3s"
						} else {
							this.doc.children[this.tagIndex[c]].style.transitionDuration = null
						}
						this.doc.children[this.tagIndex[c]].style.left = ((ind/Math.abs(ind))*200)+"%"
					} else {
						if (isNotFirst){
							this.doc.children[this.tagIndex[c]].style.transitionDuration = "0.3s"
						}
						this.doc.children[this.tagIndex[c]].style.left = 0
					}
				}
			},
			swap: function(direction){
				if (direction < 0){
					data = this.tagIndex[0]
					this.tagIndex.shift()
					this.tagIndex.push(data)
				} else {
					data = this.tagIndex[this.tagIndex.length-1]
					this.tagIndex.pop()
					this.tagIndex.unshift(data)
				}
				this.posTag(1)
			},
			throw: function(index,obj){/*
				this.pos = 50
				this.throwIndex = index
				this.throwTarget = obj
				this.throwLoop = setInterval(loop,20)*/
				obj.style.animationName = ''
				obj.children[0].style.animationName = ""
				throwTime = setTimeout(thr,10)
				function thr(){
					obj.style.animationName = "throw"
					obj.children[0].style.animationName = "textSize"
				}
				
			},
			hide: function(index,obj){
				this.doc.children[index].hidden = true
				this.tagIndex.forEach(function(e2,i2,arr2){
					if (e2==index){arr2.splice(i2,1)}
				})
				this.posTag(1)
			}
		}

		function loop(){
			if(carrousel.pos < 100){
				carrousel.pos++
				carrousel.throwTarget.style.top = carrousel.pos + "%"
			} else {
				clearInterval(carrousel.throwLoop)
			}
		}

		var keyframes = '@keyframes throw{'
		keyframes += '0% {height: var(--carrousel-graphics-size); width: var(--carrousel-graphics-size);}'
		keyframes += '15% {height: 50px; width: 50px;}'
		for (c=20;c<=100;c++){
			endState = ''
			if(c==100){endState = "height: 50px; width: 50px;"}
			k = c-20
			keyframes += c+"% {top: "+(50+0.1*((k**2)/2-k*30))+"%; left: "+(50+k*2/3)+"%; "+endState+"}"
				/*
			if(c<=60){
				keyframes += c+"% {top: "+(50-50*Math.sin(Math.PI*c/60))+"%; "+size+";}"
			} else {
				keyframes += c+"% {top: "+(50+(10+100*Math.exp((c-60-40)/15)))+"%; "+size+";}"
			}*/
		}
		keyframes += "}"

		document.head.getElementsByTagName('style')[0].innerHTML+=keyframes

		carrousel.init()
	</script>
</html>
